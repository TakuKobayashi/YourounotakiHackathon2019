{"version":3,"sources":["pages/pages.png","serviceWorker.js","pages/Home.js","pages/Oekaki.js","compoments/Turn.js","pages/Viewer.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","Home","Component","Oekaki","props","onCanvasLoaded","canvas","pixiApp","Application","view","loadDefaultImage","drawPath","state","displayColorPicker","lineColor","strokeRange","onSaveImageSubmmit","bind","onChangeColor","app","this","self","renderTexture","RenderTexture","create","stage","width","height","renderTextureSprite","Sprite","addChild","dragging","prevPosition","onDragEnd","event","interactive","on","data","global","clone","currentPosition","graphicPath","drawBezier","renderer","render","bezier","Graphics","lineStyle","moveTo","x","y","lineTo","pageBg","from","PageImage","resize","image","plugins","extract","formData","FormData","bin","atob","src","replace","buffer","Uint8Array","length","i","charCodeAt","blob","Blob","type","append","axios","post","params","user_id","page","headers","catch","err","console","eeror","saveImage","preventDefault","color","colorCode","parseInt","hex","slice","setState","ref","display","onChangeComplete","label","onClick","variant","React","Turn","handleKeyDown","keyCode","$","el","turn","Object","assign","options","document","addEventListener","remove","removeEventListener","className","style","children","defaultProps","Viewer","get","then","response","result","error","log","pages","map","index","key","alt","autoCenter","acceleration","elevation","gradients","isTouch","when","turned","e","ReactDOM","basename","process","REACT_APP_PUBLIC_URL","to","exact","path","component","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5e6efa87.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA5gAAAJGCAYAAAA+iypWAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK8AAACvABQqw0mAAAABR0RVh0Q3JlYXRpb24gVGltZQA3LzIvMTKWRwkNAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M0BrLToAAAFchJREFUeJzt3TF23FaahuH7V3WmwA6ViYGPUytxbPUOZgmztJkdzBLUsRPZzm32DiwtoP4JRLBBCFWsEj+JIvg85+gUCri4F+mrOris7u4BwLfu32OM6+B8f48x3n2Be/6uqkvn5RF19+sxxvf3DDtnTOKeU67GGK+C8wHwBZTABOArej/WI/V6rAf02/mXqnq7MmbzuvvN4tTy+xgfA+xq5fzrMcZ30QcCgCMEJgBP2W/j4y+ro7uvD4fDdXePm8/rw+Ewuvv6xYsX14/7mB99+PDharfbXe33+3HzebXb7UZVXY3/xOH3Y4yfHusZAeAhBCYAm3ATlqc+3x8Oh3c3x29nn9cvX768TjzDn3/+OUXjm5uInD5f73a7726Ox/KzqhLLA8CjE5gAbMIZgTkOh8Opa79197vD4fCuu9+9evXq7an1fv/99zf7/f71TTy+3u/3P63F4/R56prABGArBCYAmxAIzOXn+8Ph8H/d/T8//PDD2zHG+PXXX9/sdrv/3u/3/zX/RfJUPApMAJ4TgQnAJnyBwJwf/+v9+/djjPHLpfEoMAF4Tv7x2A8AAAlVNXa73Zj+3/RwOIzdbnfncxozHU/3TZ/dfedzdvzLGONOLB77N60x3T+ffxmS/o8XgK3ZPfYDAAAAsA0CEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMADZl+tuS09+wnM4t/+bk8u9eHjP/25XzcWv3ra03rTE/nt/nb2ECsCUCEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAPCvdParqrHGXznuJc54BAJ4agQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAA2Zdqddb6ra1Wt7tpaVWfvKntqreX3U/Mt17ObLABbIjABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECE4BN6e7R3WOMMarq5LiHzDc/v2YaW1X3jgWArRCYAAAARAhMAAAAIgQmAAAAEQITgM2bv/84vRN5n1Pvb943/pz5vZMJwBYJTAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITABaq6ui17r5o/OeMA4CnSmACAAAQITABAACIEJgAAABECEwANqWqbt91XHtfcs2pcfP51q6dM/epOQBgSwQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAHYlO4e3b16raqOXjtnju4eVfXJXGvj59/nx8tnOOd5AOCpEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwARgs6YdXx8iucurHWMB2DqBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITgM079+9hnhqX+JuaX2NOAHhMAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAHYlKo6unlOd99em49Zjj82R1WN7j4519qc8+P5fcfuBYCnSmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCcDmdffo7rPHzcdX1Z3r07mquv0+n3saf8l6ALAVAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAHYlC+1ac7apj+X3gsAWycwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITAB2KSqGt39ybk1y3Gfu959x8n1AOBbJDABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQnA5lXVJ7u5ru3kOo2bj5+Pm5/r7tvv87mn8cd2rL3vuQDgKROYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwATgWauqe8d090XnT62xXO/cOQDgKRCYAAAARAhMADapu29/LZx+JTz2a+HauEt+WVyOP3Z8bD0A2AqBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACsGlVded7d68en3P/peMB4LkRmAAAAEQITAAAACIEJgAAABECEwAAgAiBCcCmXLrJzkM27jl3rVMbC9kUCIAtEZgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgArA53T2q6kFzTPd39ydzT9fn146tV1W31x76TADwrROYAAAARAhMAAAAIgQmAAAAEQITgE1bvkM5fw/y0ncizxm/XA8AnhOBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAE4FmqqjufX3tdANgigQkAAECEwAQAACBCYAIAABAhMAHYlO4eVTW6+6J7xrj7fuTaufn3aZ3l+LW5p2vLT+9jArA1AhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAGxeVY3uXr127Pza9fvGrq1XVXfuXc5x7pwA8BQITAAAACIEJgAAABECEwAAgAiBCQAAQITABOBZ+pqb60wb/QDA1glMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwANqWqTl7v7qP3TNfum2M517njj60HAFshMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCcDmdffRnV7v2wF2fv2S3WWP7Uy7nOPSHWgB4FsmMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJwGZU1ejui++b7qmqk9fPGXvfGss5Pud5AeBbJTABAACIEJgAAABECEwAAAAiBCYAAAARAhOAZ2W5Oc/aJjtrG/KcmuuSjXps6gPAlglMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAm1dVj7ZeVY3ufpTnAICvTWACAAAQITABAACIEJgAAABECEwANqO7P+s9x+me6V3J+bljx/OxyzGn1ljO4b1MALZEYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJwKZ09xhjjKq6Pe7u2+PJdH0+bk1VfTL3fd/X1luue2wOAHjKBCYAAAARAhMAAIAIgQkAAECEwASAzzB/N/OU6T3P6RgAtkxgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABeFa6e1TVWeMunfcS5zwDADw1AhMAAIAIgQkAAECEwAQAACBCYAKwKdO7jfN3Iqtq9Z3Hqjr7ncxTay2/n5pvuZ53MQHYEoEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgCb0t2ju8cYY1TVyXEPmW9+fs00tqruHQsAWyEwAQAAiBCYAAAARAhMAAAAIgQmAJs3f/9xeifyPqfe37xv/DnzeycTgC0SmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAFioqqPXuvui8Z8zDgCeKoEJAABAhMAEAAAgQmACAAAQITABAACIEJgAbEpV3W6ms7Yhz5pT4+bzrV07Z+5TcwDAlghMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAKwKd09unv1WlUdvXbOHN09quqTudbGz7/Pj5fPcM7zAMBTITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQnAZk07vj5EcpdXO8YCsHUCEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITgM2rqgePO3eOS3yJOQHgMQlMAAAAIgQmAAAAEQITAACACIEJAABAhMAEYFOq6ujmOd19e20+Zjn+2BxVNbr75Fxrc86P5/cduxcAniqBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwANq+7R3efPW4+vqruXJ/OVdXt9/nc0/hL1gOArRCYAAAARAhMAAAAIgQmAAAAEQITgE35Uu80rr2Teem9ALB1AhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCcAmVdXo7k/OrVmO+9z17jtOrgcA3yKBCQAAQITABAAAIEJgAgAAECEwAdi8qvrkXci19yCncfPx83Hzc919+30+9zT+2Pue9z0XADxlAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAJ61qrp3THdfdP7UGsv1zp0DAJ4CgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmABsUnffbqgzbaRzbEOdtXGXbL6zHH/s+Nh6ALAVAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABGDTqurO9+5ePT7n/kvHA8BzIzABAACIEJgAbMqlvyA+5FfJc9c69aupXzwB2BKBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwANqe7R1U9aI7p/u7+ZO7p+vzasfWq6vbaQ58JAL51AhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmABs2nIX2PlOrpfu6nrO+OV6APCcCEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITACepaq68/m11wWALRKYAAAARAhMAAAAIgQmAAAAEQITAACACIEJwKZ096iq0d0X3TPG3Q141s7Nv0/rLMevzT1dW37a8AeArRGYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAKweVU1unv12rHza9fvG7u2XlXduXc5x7lzAsBTIDABAACIEJgAAABECEwAAAAiBCYAAAARAhOAZ+lrbq4zbfQDAFsnMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgArAp9/3NybW/fzndM1079+9WXjr+2HoAsBUCEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAGxedx/d6fW+HWDn1y/ZXfbYzrTLOS7dgRYAvmUCEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAbEZVje6++L7pnqo6ef2csfetsZzjc54XAL5VAhMAAIAIgQkAAECEwAQAACBCYALwrCzfnVx7B3LtfclTc13yHqV3LgHYMoEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAKweVX1aOtV1ejuR3kOAPjaBCYAAAARAhMAAIAIgQkAAECEwARgM7r7s95znO6Z3pWcnzt2PB+7HHNqjeUc3ssEYEsEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACsCndPcYYo6puj7v79ngyXZ+PW1NVn8x93/e19ZbrHpsDAJ4ygQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAD4DPPdZU+ZdqqdjgFgywQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAHYlKoaY4zR3XfOzc9Px1V15/vc/P771lqb95hp3DljAeCpEZgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABDxj8d+AABI6O5xOBzufE7/lt+PnZvmmc958+9fN99/ORwOo6rG4XC4HTf9Pc353Pv9fnX++byn/g4nADxFfsEEgHXvxxj/O8b4548//vjm559/fjPG+OfNuffTIHEIAP9RPf8vVQB4otZ+wVz7PHHtt+5+dzgc3nX3u1evXr09td4ff/zxZrfbvd7v9693u93r3W73036/H7vdbux2uzEdr51bHu92/r8XgG0QmABswhmB+f5wOLy7OX47+7x++fLldeIZ/vrrr6vdbne12+3e3ATk9Pl6t9t9dyxA/QoKwFYITACest/GGH+PMUZ3Xx8Oh+uboLy++T66+/rFixfXj/uYH3348GEK0LHf7692u93VTWBejTGuboZ9P8b46bGeEQAeQmAC8DW9H2O8Wzl/ffNv6e38S1W9XRmzed39ZnFq+X2Mj4F6tXL+9Rjju+gDAcARAhPgafj3WA+wz/X3WA+9h97zd1VdOi+PqLtfj4+/mp5yzpjEPadcjTFeBecD4Av4f1E4cBYzYE38AAAAAElFTkSuQmCC\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log('This web app is being served cache-first by a service ' + 'worker. To learn more, visit https://bit.ly/CRA-PWA');\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { Component } from 'react';\n\nexport class Home extends Component {\n  render() {\n    return (\n      <div>\n        home\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PageImage from './pages.png';\nimport axios from 'axios';\nimport { Application, Sprite, Texture, Graphics, RenderTexture } from 'pixi.js';\nimport { Button } from 'react-rainbow-components';\nimport { SketchPicker } from 'react-color';\n\nexport class Oekaki extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      displayColorPicker: false,\n      lineColor: 0x000000,\n      strokeRange: 3,\n    };\n    this.onSaveImageSubmmit = this.onSaveImageSubmmit.bind(this);\n    this.onChangeColor = this.onChangeColor.bind(this);\n  }\n\n  onCanvasLoaded = (canvas) => {\n    this.pixiApp = new Application({ view: canvas });\n    this.loadDefaultImage();\n    this.drawPath();\n  };\n\n  drawPath() {\n    const app = this.pixiApp;\n    const self = this;\n\n    const renderTexture = RenderTexture.create(app.stage.width, app.stage.height);\n\n    const renderTextureSprite = new Sprite(renderTexture);\n    app.stage.addChild(renderTextureSprite);\n\n    let dragging = false;\n    let prevPosition = null;\n\n    const onDragEnd = function(event) {\n      dragging = false;\n      prevPosition = null;\n    };\n\n    const onDragMove = function(event) {\n      if (dragging) {\n        const currentPosition = event.data.global.clone();\n        if (prevPosition) {\n          const graphicPath = self.drawBezier(prevPosition, currentPosition);\n          app.renderer.render(graphicPath, renderTexture, false, null, false);\n        }\n        prevPosition = currentPosition;\n      }\n    };\n\n    const onDragStart = function(event) {\n      dragging = true;\n      prevPosition = event.data.global.clone();\n    };\n\n    app.stage.interactive = true;\n    app.stage.on('pointerdown', onDragStart);\n    app.stage.on('pointerup', onDragEnd);\n    app.stage.on('pointerupoutside', onDragEnd);\n    app.stage.on('pointermove', onDragMove);\n\n    this.renderTexture = renderTexture;\n  }\n\n  drawBezier(prevPosition, currentPosition) {\n    const bezier = new Graphics();\n    bezier.lineStyle(this.state.strokeRange, this.state.lineColor, 1);\n    bezier.moveTo(prevPosition.x, prevPosition.y).lineTo(currentPosition.x, currentPosition.y);\n\n    //    bezier.bezierCurveTo(prevPosition.x, prevPosition.y, (prevPosition.x + currentPosition.x) / 2 , (prevPosition.y + currentPosition.y) / 2, currentPosition.x, currentPosition.y);\n    return bezier;\n  }\n\n  // すでに登録されている色紙の画像を読み込む\n  loadDefaultImage() {\n    const pageBg = Sprite.from(PageImage);\n    this.pixiApp.stage.width = pageBg.width;\n    this.pixiApp.stage.height = pageBg.height;\n    this.pixiApp.stage.addChild(pageBg);\n    this.pixiApp.renderer.resize(pageBg.width, pageBg.height);\n  }\n\n  async saveImage() {\n    if (this.renderTexture) {\n      const image = this.pixiApp.renderer.plugins.extract.image(this.renderTexture);\n      const formData = new FormData();\n      var bin = window.atob(image.src.replace(/^.*,/, ''));\n      var buffer = new Uint8Array(bin.length);\n      for (var i = 0; i < bin.length; i++) {\n        buffer[i] = bin.charCodeAt(i);\n      }\n      const blob = new Blob([buffer.buffer], { type: 'image/png' });\n      formData.append('image', blob, 'image.png');\n      const resuponse = await axios\n        .post('https://yoro2019.azurewebsites.net/save_image', formData, {\n          params: {\n            user_id: 'tekitou',\n            page: 1,\n          },\n          headers: {\n            'content-type': 'multipart/form-data',\n          },\n        })\n        .catch((err) => {\n          console.eeror(err);\n        });\n    }\n  }\n\n  onSaveImageSubmmit(event) {\n    this.saveImage();\n    event.preventDefault();\n  }\n\n  onChangeColor(color) {\n    this.state.displayColorPicker = false;\n    const colorCode = parseInt(color.hex.slice(1), 16);\n    this.setState({ lineColor: colorCode });\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <canvas ref={this.onCanvasLoaded} />\n        </div>\n        <div>\n          {this.state.displayColorPicker ? (\n            <SketchPicker display={this.state.displayColorPicker} color={this.state.lineColor} onChangeComplete={this.onChangeColor} />\n          ) : (\n            ''\n          )}\n          <Button\n            label=\"色を変更する\"\n            onClick={(event) => {\n              this.setState({ displayColorPicker: !this.state.displayColorPicker });\n            }}\n            variant=\"brand\"\n          />\n          <Button label=\"保存する\" onClick={this.onSaveImageSubmmit} variant=\"brand\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport \"turn.js\";\n\nimport \"./Turn.css\";\n\nexport default class Turn extends React.Component {\n  static defaultProps = {\n    style: {},\n    className: \"\",\n    options: {}\n  };\n\n  componentDidMount() {\n    if (this.el) {\n      $(this.el).turn(Object.assign({}, this.props.options));\n    }\n    document.addEventListener(\"keydown\", this.handleKeyDown, false);\n  }\n\n  componentWillUnmount() {\n    if (this.el) {\n      $(this.el)\n        .turn(\"destroy\")\n        .remove();\n    }\n    document.removeEventListener(\"keydown\", this.handleKeyDown, false);\n  }\n\n  handleKeyDown = event => {\n    if (event.keyCode === 37) {\n      $(this.el).turn(\"previous\");\n    }\n    if (event.keyCode === 39) {\n      $(this.el).turn(\"next\");\n    }\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        style={Object.assign({}, this.props.style)}\n        ref={el => (this.el = el)}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Turn from '../compoments/Turn';\nimport $ from \"jquery\";\nimport axios from 'axios';\nimport \"turn.js\";\n\nexport class Viewer extends Component {\n  static defaultProps = {\n    style: {},\n    className: \"\",\n    options: {},\n    data: []\n  };\n\n  componentDidMount() {\n    if (this.el) {\n      $(this.el).turn(Object.assign({}, this.props.options));\n    }\n    document.addEventListener(\"keydown\", this.handleKeyDown, false);\n    axios.get('./sample.json')\n      .then(response => {\n        this.data = response.data.result;\n        this.setState(this.data)\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n  componentWillUnmount() {\n    if (this.el) {\n      $(this.el)\n        .turn(\"destroy\")\n        .remove();\n    }\n    document.removeEventListener(\"keydown\", this.handleKeyDown, false);\n  }\n\n  handleKeyDown = event => {\n    if (event.keyCode === 37) {\n      $(this.el).turn(\"previous\");\n    }\n    if (event.keyCode === 39) {\n      $(this.el).turn(\"next\");\n    }\n  };\n\n  render() {\n    return (\n      <Turn options={options} className=\"magazine\">\n        {pages.map((page, index) => (\n          <div key={index} className=\"page\">\n            <img src={page} alt=\"\" />\n          </div>\n        ))}\n      </Turn>\n    );\n  }\n}\n\nconst options = {\n  width: 800,\n  height: 600,\n  autoCenter: true,\n  display: \"double\",\n  acceleration: true,\n  elevation: 50,\n  gradients: !$.isTouch,\n  when: {\n    turned: function(e, page) {\n      console.log(\"Current view: \", $(this).turn(\"view\"));\n    }\n  }\n};\n\nconst pages = [\n  \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/01.jpg\",\n  \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/02.jpg\",\n  \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/03.jpg\",\n  \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/04.jpg\",\n  \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/05.jpg\",\n  \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/06.jpg\"\n];\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter, Route, Link, Switch } from 'react-router-dom';\n\nimport { Home } from './pages/Home';\nimport { Oekaki } from './pages/Oekaki';\nimport { Viewer } from './pages/Viewer';\n\n\nReactDOM.render(\n  <BrowserRouter basename={process.env.REACT_APP_PUBLIC_URL}>\n    <div>\n      <nav>\n        <ul>\n          <li>\n            <Link to=\"/\">Home</Link>\n          </li>\n          <li>\n            <Link to=\"/oekaki\">Oekaki</Link>\n          </li>\n          <li>\n            <Link to=\"/viewer\">Viewer</Link>\n          </li>\n        </ul>\n      </nav>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/oekaki\" component={Oekaki} />\n        <Route path=\"/Viewer\" component={Viewer} />\n      </Switch>\n    </div>\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}