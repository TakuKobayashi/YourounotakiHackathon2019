{"version":3,"sources":["pages/pages.png","serviceWorker.js","pages/Home.js","pages/Oekaki.js","compoments/Turn.js","pages/Viewer.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","Home","Component","Oekaki","props","onCanvasLoaded","canvas","pixiApp","Application","view","setupRoutine","state","defaultLoaded","loadDefaultImage","setupDrawPath","setState","defaultRendered","displayColorPicker","lineColor","strokeRange","page","baseImageUrl","baseTexture","baseImageSprite","onSaveImageSubmmit","bind","onChangeColor","onNextPage","loadCurrentImageAndPage","axios","get","params","user_id","responseType","catch","err","console","eeror","resuponse","this","data","image_url","length","app","self","renderTexture","RenderTexture","create","stage","width","height","Texture","from","baseImage","Sprite","addChild","renderTextureSprite","dragging","prevPosition","onDragEnd","event","interactive","on","global","clone","currentPosition","graphicPath","drawBezier","renderer","render","bezier","Graphics","lineStyle","moveTo","x","y","lineTo","pageBg","PageImage","resize","baseContainer","Container","image","plugins","extract","formData","FormData","bin","atob","src","replace","buffer","Uint8Array","i","charCodeAt","blob","Blob","type","append","post","headers","saveImage","preventDefault","color","colorCode","parseInt","hex","slice","currentPage","removeChild","ref","display","onChangeComplete","label","onClick","variant","React","Turn","handleKeyDown","keyCode","$","el","turn","Object","assign","options","document","addEventListener","remove","removeEventListener","className","style","children","defaultProps","Viewer","pages","then","response","error","log","generated_pages","push","key","alt","autoCenter","acceleration","elevation","gradients","isTouch","when","turned","e","ReactDOM","basename","process","REACT_APP_PUBLIC_URL","to","exact","path","component","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.64a96f6d.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA5gAAAJGCAYAAAA+iypWAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK8AAACvABQqw0mAAAABR0RVh0Q3JlYXRpb24gVGltZQA3LzIvMTKWRwkNAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M0BrLToAAAFchJREFUeJzt3TF23FaahuH7V3WmwA6ViYGPUytxbPUOZgmztJkdzBLUsRPZzm32DiwtoP4JRLBBCFWsEj+JIvg85+gUCri4F+mrOris7u4BwLfu32OM6+B8f48x3n2Be/6uqkvn5RF19+sxxvf3DDtnTOKeU67GGK+C8wHwBZTABOArej/WI/V6rAf02/mXqnq7MmbzuvvN4tTy+xgfA+xq5fzrMcZ30QcCgCMEJgBP2W/j4y+ro7uvD4fDdXePm8/rw+Ewuvv6xYsX14/7mB99+PDharfbXe33+3HzebXb7UZVXY3/xOH3Y4yfHusZAeAhBCYAm3ATlqc+3x8Oh3c3x29nn9cvX768TjzDn3/+OUXjm5uInD5f73a7726Ox/KzqhLLA8CjE5gAbMIZgTkOh8Opa79197vD4fCuu9+9evXq7an1fv/99zf7/f71TTy+3u/3P63F4/R56prABGArBCYAmxAIzOXn+8Ph8H/d/T8//PDD2zHG+PXXX9/sdrv/3u/3/zX/RfJUPApMAJ4TgQnAJnyBwJwf/+v9+/djjPHLpfEoMAF4Tv7x2A8AAAlVNXa73Zj+3/RwOIzdbnfncxozHU/3TZ/dfedzdvzLGONOLB77N60x3T+ffxmS/o8XgK3ZPfYDAAAAsA0CEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMADZl+tuS09+wnM4t/+bk8u9eHjP/25XzcWv3ra03rTE/nt/nb2ECsCUCEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAPCvdParqrHGXznuJc54BAJ4agQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAA2Zdqddb6ra1Wt7tpaVWfvKntqreX3U/Mt17ObLABbIjABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECE4BN6e7R3WOMMarq5LiHzDc/v2YaW1X3jgWArRCYAAAARAhMAAAAIgQmAAAAEQITgM2bv/84vRN5n1Pvb943/pz5vZMJwBYJTAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITABaq6ui17r5o/OeMA4CnSmACAAAQITABAACIEJgAAABECEwANqWqbt91XHtfcs2pcfP51q6dM/epOQBgSwQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAHYlO4e3b16raqOXjtnju4eVfXJXGvj59/nx8tnOOd5AOCpEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwARgs6YdXx8iucurHWMB2DqBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITgM079+9hnhqX+JuaX2NOAHhMAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAHYlKo6unlOd99em49Zjj82R1WN7j4519qc8+P5fcfuBYCnSmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCcDmdffo7rPHzcdX1Z3r07mquv0+n3saf8l6ALAVAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAHYlC+1ac7apj+X3gsAWycwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITAB2KSqGt39ybk1y3Gfu959x8n1AOBbJDABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQnA5lXVJ7u5ru3kOo2bj5+Pm5/r7tvv87mn8cd2rL3vuQDgKROYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwATgWauqe8d090XnT62xXO/cOQDgKRCYAAAARAhMADapu29/LZx+JTz2a+HauEt+WVyOP3Z8bD0A2AqBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACsGlVded7d68en3P/peMB4LkRmAAAAEQITAAAACIEJgAAABECEwAAgAiBCcCmXLrJzkM27jl3rVMbC9kUCIAtEZgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgArA53T2q6kFzTPd39ydzT9fn146tV1W31x76TADwrROYAAAARAhMAAAAIgQmAAAAEQITgE1bvkM5fw/y0ncizxm/XA8AnhOBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAE4FmqqjufX3tdANgigQkAAECEwAQAACBCYAIAABAhMAHYlO4eVTW6+6J7xrj7fuTaufn3aZ3l+LW5p2vLT+9jArA1AhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAGxeVY3uXr127Pza9fvGrq1XVXfuXc5x7pwA8BQITAAAACIEJgAAABECEwAAgAiBCQAAQITABOBZ+pqb60wb/QDA1glMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwANqWqTl7v7qP3TNfum2M517njj60HAFshMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCcDmdffRnV7v2wF2fv2S3WWP7Uy7nOPSHWgB4FsmMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJwGZU1ejui++b7qmqk9fPGXvfGss5Pud5AeBbJTABAACIEJgAAABECEwAAAAiBCYAAAARAhOAZ2W5Oc/aJjtrG/KcmuuSjXps6gPAlglMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAm1dVj7ZeVY3ufpTnAICvTWACAAAQITABAACIEJgAAABECEwANqO7P+s9x+me6V3J+bljx/OxyzGn1ljO4b1MALZEYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJwKZ09xhjjKq6Pe7u2+PJdH0+bk1VfTL3fd/X1luue2wOAHjKBCYAAAARAhMAAIAIgQkAAECEwASAzzB/N/OU6T3P6RgAtkxgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABeFa6e1TVWeMunfcS5zwDADw1AhMAAIAIgQkAAECEwAQAACBCYAKwKdO7jfN3Iqtq9Z3Hqjr7ncxTay2/n5pvuZ53MQHYEoEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgCb0t2ju8cYY1TVyXEPmW9+fs00tqruHQsAWyEwAQAAiBCYAAAARAhMAAAAIgQmAJs3f/9xeifyPqfe37xv/DnzeycTgC0SmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAFioqqPXuvui8Z8zDgCeKoEJAABAhMAEAAAgQmACAAAQITABAACIEJgAbEpV3W6ms7Yhz5pT4+bzrV07Z+5TcwDAlghMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAKwKd09unv1WlUdvXbOHN09quqTudbGz7/Pj5fPcM7zAMBTITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQnAZk07vj5EcpdXO8YCsHUCEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITgM2rqgePO3eOS3yJOQHgMQlMAAAAIgQmAAAAEQITAACACIEJAABAhMAEYFOq6ujmOd19e20+Zjn+2BxVNbr75Fxrc86P5/cduxcAniqBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwANq+7R3efPW4+vqruXJ/OVdXt9/nc0/hL1gOArRCYAAAARAhMAAAAIgQmAAAAEQITgE35Uu80rr2Teem9ALB1AhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCcAmVdXo7k/OrVmO+9z17jtOrgcA3yKBCQAAQITABAAAIEJgAgAAECEwAdi8qvrkXci19yCncfPx83Hzc919+30+9zT+2Pue9z0XADxlAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAJ61qrp3THdfdP7UGsv1zp0DAJ4CgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmABsUnffbqgzbaRzbEOdtXGXbL6zHH/s+Nh6ALAVAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABGDTqurO9+5ePT7n/kvHA8BzIzABAACIEJgAbMqlvyA+5FfJc9c69aupXzwB2BKBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwANqe7R1U9aI7p/u7+ZO7p+vzasfWq6vbaQ58JAL51AhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmABs2nIX2PlOrpfu6nrO+OV6APCcCEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITACepaq68/m11wWALRKYAAAARAhMAAAAIgQmAAAAEQITAACACIEJwKZ096iq0d0X3TPG3Q141s7Nv0/rLMevzT1dW37a8AeArRGYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAKweVU1unv12rHza9fvG7u2XlXduXc5x7lzAsBTIDABAACIEJgAAABECEwAAAAiBCYAAAARAhOAZ+lrbq4zbfQDAFsnMAEAAIgQmAAAAEQITAAAACIEJgAAABECEwAAgAiBCQAAQITABAAAIEJgArAp9/3NybW/fzndM1079+9WXjr+2HoAsBUCEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAGxedx/d6fW+HWDn1y/ZXfbYzrTLOS7dgRYAvmUCEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAbEZVje6++L7pnqo6ef2csfetsZzjc54XAL5VAhMAAIAIgQkAAECEwAQAACBCYALwrCzfnVx7B3LtfclTc13yHqV3LgHYMoEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAKweVX1aOtV1ejuR3kOAPjaBCYAAAARAhMAAIAIgQkAAECEwARgM7r7s95znO6Z3pWcnzt2PB+7HHNqjeUc3ssEYEsEJgAAABECEwAAgAiBCQAAQITABAAAIEJgAgAAECEwAQAAiBCYAAAARAhMAAAAIgQmAAAAEQITAACACIEJAABAhMAEAAAgQmACsCndPcYYo6puj7v79ngyXZ+PW1NVn8x93/e19ZbrHpsDAJ4ygQkAAECEwAQAACBCYAIAABAhMAEAAIgQmAAAAEQITAD4DPPdZU+ZdqqdjgFgywQmAAAAEQITAACACIEJAABAhMAEAAAgQmACAAAQITABAACIEJgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABAhMAHYlKoaY4zR3XfOzc9Px1V15/vc/P771lqb95hp3DljAeCpEZgAAABECEwAAAAiBCYAAAARAhMAAIAIgQkAAECEwAQAACBCYAIAABDxj8d+AABI6O5xOBzufE7/lt+PnZvmmc958+9fN99/ORwOo6rG4XC4HTf9Pc353Pv9fnX++byn/g4nADxFfsEEgHXvxxj/O8b4548//vjm559/fjPG+OfNuffTIHEIAP9RPf8vVQB4otZ+wVz7PHHtt+5+dzgc3nX3u1evXr09td4ff/zxZrfbvd7v9693u93r3W73036/H7vdbux2uzEdr51bHu92/r8XgG0QmABswhmB+f5wOLy7OX47+7x++fLldeIZ/vrrr6vdbne12+3e3ATk9Pl6t9t9dyxA/QoKwFYITACest/GGH+PMUZ3Xx8Oh+uboLy++T66+/rFixfXj/uYH3348GEK0LHf7692u93VTWBejTGuboZ9P8b46bGeEQAeQmAC8DW9H2O8Wzl/ffNv6e38S1W9XRmzed39ZnFq+X2Mj4F6tXL+9Rjju+gDAcARAhPgafj3WA+wz/X3WA+9h97zd1VdOi+PqLtfj4+/mp5yzpjEPadcjTFeBecD4Av4f1E4cBYzYE38AAAAAElFTkSuQmCC\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log('This web app is being served cache-first by a service ' + 'worker. To learn more, visit https://bit.ly/CRA-PWA');\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { Component } from 'react';\n\nexport class Home extends Component {\n  render() {\n    return (\n      <div>\n        home\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PageImage from './pages.png';\nimport axios from 'axios';\nimport { Application, Sprite, Texture, Graphics, RenderTexture, Container } from 'pixi.js';\nimport { Button } from 'react-rainbow-components';\nimport { SketchPicker } from 'react-color';\n\nexport class Oekaki extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      displayColorPicker: false,\n      lineColor: 0x000000,\n      strokeRange: 3,\n      page: 1,\n      baseImageUrl: null,\n      baseTexture: null,\n      baseImageSprite: null,\n      defaultLoaded: false,\n      defaultRendered: false,\n    };\n    this.onSaveImageSubmmit = this.onSaveImageSubmmit.bind(this);\n    this.onChangeColor = this.onChangeColor.bind(this);\n    this.onNextPage = this.onNextPage.bind(this);\n    this.loadCurrentImageAndPage();\n  }\n\n  async loadCurrentImageAndPage(){\n    const resuponse = await axios.get('http://yoro2019.azurewebsites.net/last_image', {\n      params: {\n        user_id: 'tekitou',\n      },\n      responseType: 'json',\n    })\n    .catch((err) => {\n      console.eeror(err);\n    });\n    this.setState({\n      page: resuponse.data.page,\n      defaultLoaded: true\n    });\n    if(resuponse.data.image_url && resuponse.data.image_url.length > 0){\n      this.setState({\n        baseImageUrl: 'http://yoro2019.azurewebsites.net' + resuponse.data.image_url,\n      });\n    }\n    if(!this.state.defaultRendered){\n      this.setupRoutine();\n    }\n  }\n\n  onCanvasLoaded = (canvas) => {\n    this.pixiApp = new Application({ view: canvas });\n    this.setupRoutine();\n  };\n\n  setupRoutine = () => {\n    if(!this.state.defaultLoaded){\n      return;\n    }\n    this.loadDefaultImage();\n    this.setupDrawPath();\n    this.setState({defaultRendered: true});\n  }\n\n  setupDrawPath() {\n    const app = this.pixiApp;\n    const self = this;\n\n    const renderTexture = RenderTexture.create(app.stage.width, app.stage.height);\n    if(this.state.baseImageUrl && this.state.baseImageUrl.length > 0){\n      const baseTexture = Texture.from(this.state.baseImageUrl);\n      const baseImage = new Sprite(baseTexture);\n      this.setState({baseTexture: baseTexture, baseImageSprite: baseImage});\n      app.stage.addChild(baseImage);\n    }\n    const renderTextureSprite = new Sprite(renderTexture);\n    app.stage.addChild(renderTextureSprite);\n\n    let dragging = false;\n    let prevPosition = null;\n\n    const onDragEnd = function(event) {\n      dragging = false;\n      prevPosition = null;\n    };\n\n    const onDragMove = function(event) {\n      if (dragging) {\n        const currentPosition = event.data.global.clone();\n        if (prevPosition) {\n          const graphicPath = self.drawBezier(prevPosition, currentPosition);\n          app.renderer.render(graphicPath, renderTexture, false, null, false);\n        }\n        prevPosition = currentPosition;\n      }\n    };\n\n    const onDragStart = function(event) {\n      dragging = true;\n      prevPosition = event.data.global.clone();\n    };\n\n    app.stage.interactive = true;\n    app.stage.on('pointerdown', onDragStart);\n    app.stage.on('pointerup', onDragEnd);\n    app.stage.on('pointerupoutside', onDragEnd);\n    app.stage.on('pointermove', onDragMove);\n\n    this.renderTexture = renderTexture;\n  }\n\n  drawBezier(prevPosition, currentPosition) {\n    const bezier = new Graphics();\n    bezier.lineStyle(this.state.strokeRange, this.state.lineColor, 1);\n    bezier.moveTo(prevPosition.x, prevPosition.y).lineTo(currentPosition.x, currentPosition.y);\n\n    //    bezier.bezierCurveTo(prevPosition.x, prevPosition.y, (prevPosition.x + currentPosition.x) / 2 , (prevPosition.y + currentPosition.y) / 2, currentPosition.x, currentPosition.y);\n    return bezier;\n  }\n\n  // すでに登録されている色紙の画像を読み込む\n  loadDefaultImage() {\n    const pageBg = Sprite.from(PageImage);\n    this.pixiApp.stage.width = pageBg.width;\n    this.pixiApp.stage.height = pageBg.height;\n    this.pixiApp.stage.addChild(pageBg);\n    this.pixiApp.renderer.resize(pageBg.width, pageBg.height);\n  }\n\n  async saveImage() {\n    if (this.renderTexture) {\n      const baseContainer = new Container();\n      baseContainer.addChild(new Sprite(this.state.baseTexture));\n      baseContainer.addChild(new Sprite(this.renderTexture));\n      const image = this.pixiApp.renderer.plugins.extract.image(baseContainer);\n      const formData = new FormData();\n      var bin = window.atob(image.src.replace(/^.*,/, ''));\n      var buffer = new Uint8Array(bin.length);\n      for (var i = 0; i < bin.length; i++) {\n        buffer[i] = bin.charCodeAt(i);\n      }\n      const blob = new Blob([buffer.buffer], { type: 'image/png' });\n      formData.append('image', blob, 'image.png');\n      const resuponse = await axios\n        .post('https://yoro2019.azurewebsites.net/save_image', formData, {\n          params: {\n            user_id: 'tekitou',\n            page: this.state.page,\n          },\n          headers: {\n            'content-type': 'multipart/form-data',\n          },\n        })\n        .catch((err) => {\n          console.eeror(err);\n        });\n    }\n  }\n\n  onSaveImageSubmmit(event) {\n    this.saveImage();\n    event.preventDefault();\n  }\n\n  onChangeColor(color) {\n    this.setState({displayColorPicker: false});\n    const colorCode = parseInt(color.hex.slice(1), 16);\n    this.setState({ lineColor: colorCode });\n  }\n\n  onNextPage(event) {\n    const currentPage = this.state.page;\n    if(this.state.baseImageSprite){\n      this.pixiApp.stage.removeChild(this.state.baseImageSprite);\n      this.setState({baseImageUrl: null, baseTexture: null});\n    }\n    this.setState({page: currentPage + 1});\n    this.pixiApp.renderer.render(new Sprite(), this.renderTexture, true, null, false);\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <canvas ref={this.onCanvasLoaded} />\n        </div>\n        <div>\n          {this.state.displayColorPicker ? (\n            <SketchPicker display={this.state.displayColorPicker} color={this.state.lineColor} onChangeComplete={this.onChangeColor} />\n          ) : (\n            ''\n          )}\n          <Button\n            label=\"色を変更する\"\n            onClick={(event) => {\n              this.setState({ displayColorPicker: !this.state.displayColorPicker });\n            }}\n            variant=\"brand\"\n          />\n          <Button label=\"保存する\" onClick={this.onSaveImageSubmmit} variant=\"brand\" />\n          <Button label=\"次のページへ\" onClick={this.onNextPage} variant=\"brand\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport \"turn.js\";\n\nimport \"./Turn.css\";\n\nexport default class Turn extends React.Component {\n  static defaultProps = {\n    style: {},\n    className: \"\",\n    options: {}\n  };\n\n  componentDidMount() {\n    if (this.el) {\n      $(this.el).turn(Object.assign({}, this.props.options));\n    }\n    document.addEventListener(\"keydown\", this.handleKeyDown, false);\n  }\n\n  componentWillUnmount() {\n    if (this.el) {\n      $(this.el)\n        .turn(\"destroy\")\n        .remove();\n    }\n    document.removeEventListener(\"keydown\", this.handleKeyDown, false);\n  }\n\n  handleKeyDown = event => {\n    if (event.keyCode === 37) {\n      $(this.el).turn(\"previous\");\n    }\n    if (event.keyCode === 39) {\n      $(this.el).turn(\"next\");\n    }\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        style={Object.assign({}, this.props.style)}\n        ref={el => (this.el = el)}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Turn from '../compoments/Turn';\nimport $ from \"jquery\";\nimport axios from 'axios';\nimport \"turn.js\";\n\nexport class Viewer extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      pages: []\n    };\n  }\n  static defaultProps = {\n    style: {},\n    className: \"\",\n    options: {}\n  };\n\n  componentWillMount() {\n    axios.get('https://yoro2019.azurewebsites.net/list_image?user_id=tekitou')\n    .then(response => {\n      this.setState({\n        pages: response.data\n      });\n    })\n    .catch(error => {\n      console.log(error);\n    })\n  }\n\n  componentDidMount() {\n    if (this.el) {\n      $(this.el).turn(Object.assign({}, this.props.options));\n    }\n    document.addEventListener(\"keydown\", this.handleKeyDown, false);\n  }\n\n  componentWillUnmount() {\n    if (this.el) {\n      $(this.el)\n        .turn(\"destroy\")\n        .remove();\n    }\n    document.removeEventListener(\"keydown\", this.handleKeyDown, false);\n  }\n\n  handleKeyDown = event => {\n    if (event.keyCode === 37) {\n      $(this.el).turn(\"previous\");\n    }\n    if (event.keyCode === 39) {\n      $(this.el).turn(\"next\");\n    }\n  };\n\n  render() {\n    let pages1;\n    console.log(\"rendered\")\n    if (this.state.pages.length === 0) {\n      return (\n        <p>empty</p>\n      )\n    }else {\n      let generated_pages = []\n      for (let page in this.state.pages) {\n        this.state.pages[page].image_url = this.state.pages[page].image_url.replace('/load_image?', 'https://yoro2019.azurewebsites.net/load_image?')\n        generated_pages.push(<div key={this.state.pages[page].page} className=\"page\"><img src={this.state.pages[page].image_url} alt=\"\" /></div>);\n      }\n      return (\n        <Turn options={options} className=\"magazine\">\n          {generated_pages}\n        </Turn>\n      );\n    }\n  }\n}\n\nconst options = {\n  width: 800,\n  height: 600,\n  autoCenter: true,\n  display: \"double\",\n  acceleration: true,\n  elevation: 50,\n  gradients: !$.isTouch,\n  when: {\n    turned: function(e, page) {\n      console.log(\"Current view: \", $(this).turn(\"view\"));\n    }\n  }\n};\n\nconst pages = [\n  \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/01.jpg\",\n  \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/02.jpg\",\n  \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/03.jpg\",\n  \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/04.jpg\",\n  \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/05.jpg\",\n  \"https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/06.jpg\"\n];\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter, Route, Link, Switch } from 'react-router-dom';\n\nimport { Home } from './pages/Home';\nimport { Oekaki } from './pages/Oekaki';\nimport { Viewer } from './pages/Viewer';\n\n\nReactDOM.render(\n  <BrowserRouter basename={process.env.REACT_APP_PUBLIC_URL}>\n    <div>\n      <nav>\n        <ul>\n          <li>\n            <Link to=\"/\">Home</Link>\n          </li>\n          <li>\n            <Link to=\"/oekaki\">Oekaki</Link>\n          </li>\n          <li>\n            <Link to=\"/viewer\">Viewer</Link>\n          </li>\n        </ul>\n      </nav>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/oekaki\" component={Oekaki} />\n        <Route path=\"/viewer\" component={Viewer} />\n      </Switch>\n    </div>\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}